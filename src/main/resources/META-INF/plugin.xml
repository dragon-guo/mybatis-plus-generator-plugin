<idea-plugin>
    <id>com.mybatisplus.generator</id>
    <name>MyBatis Plus Generator</name>
    <version>1.0.0</version>
    <vendor email="support@example.com" url="https://github.com/mybatis-plus-generator">MyBatis Plus Generator</vendor>

    <description><![CDATA[
        <h2>MyBatis Plus 代码生成器插件</h2>
        <p>一个强大的 MyBatis Plus 代码生成器，可以根据数据库表结构自动生成:</p>
        <h3>截图预览:</h3>
        <p><img src="https://raw.githubusercontent.com/mybatis-plus-generator/mybatis-plus-generator-plugin/main/screenshots/1.png" alt="截图1" width="600"/></p>
        <p><img src="https://raw.githubusercontent.com/mybatis-plus-generator/mybatis-plus-generator-plugin/main/screenshots/2.png" alt="截图2" width="600"/></p>
        <p><img src="https://raw.githubusercontent.com/mybatis-plus-generator/mybatis-plus-generator-plugin/main/screenshots/3.png" alt="截图3" width="600"/></p>
        <p><img src="https://raw.githubusercontent.com/mybatis-plus-generator/mybatis-plus-generator-plugin/main/screenshots/4.png" alt="截图4" width="600"/></p>
        <p><img src="https://raw.githubusercontent.com/mybatis-plus-generator/mybatis-plus-generator-plugin/main/screenshots/5.png" alt="截图5" width="600"/></p>
        <ul>
            <li>Entity 实体类 (支持 Lombok, Swagger2 注解)</li>
            <li>Mapper 接口</li>
            <li>Service 服务层接口和实现类</li>
            <li>Controller 控制器 (RESTful 风格)</li>
            <li>XML 映射文件</li>
        </ul>
        <h3>支持的数据库:</h3>
        <ul>
            <li>MySQL</li>
            <li>PostgreSQL</li>
            <li>Oracle</li>
            <li>达梦数据库 (DM)</li>
        </ul>
        <h3>特色功能:</h3>
        <ul>
            <li>可视化配置界面</li>
            <li>自定义代码模板</li>
            <li>表前缀/字段前缀过滤</li>
            <li>下划线转驼峰命名</li>
            <li>支持 JsonFormat 日期格式化</li>
        </ul>

    ]]></description>

    <change-notes><![CDATA[
        <h3>1.0.0</h3>
        <ul>
            <li>初始版本发布</li>
            <li>支持多种数据库连接</li>
            <li>可视化配置界面</li>
            <li>自定义模板支持</li>
        </ul>
    ]]></change-notes>

    <idea-version since-build="233" until-build="243.*"/>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends optional="true" config-file="database-support.xml">com.intellij.database</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 右侧工具窗口 -->
        <toolWindow id="MyBatis Plus Generator"
                    anchor="right"
                    icon="AllIcons.Nodes.DataTables"
                    factoryClass="com.mybatisplus.generator.toolwindow.GeneratorToolWindowFactory"/>

        <!-- 持久化配置 -->
        <applicationService
                serviceInterface="com.mybatisplus.generator.settings.GeneratorSettings"
                serviceImplementation="com.mybatisplus.generator.settings.GeneratorSettings"/>

        <!-- 项目级服务 -->
        <projectService
                serviceInterface="com.mybatisplus.generator.service.GeneratorService"
                serviceImplementation="com.mybatisplus.generator.service.GeneratorServiceImpl"/>

        <!-- 设置界面 -->
        <applicationConfigurable
                parentId="tools"
                instance="com.mybatisplus.generator.settings.GeneratorSettingsConfigurable"
                id="com.mybatisplus.generator.settings"
                displayName="MyBatis Plus Generator"/>

        <!-- 通知组 -->
        <notificationGroup id="MyBatis Plus Generator"
                           displayType="BALLOON"
                           toolWindowId="MyBatis Plus Generator"/>
    </extensions>

    <actions>
        <!-- 主菜单 -->
        <group id="MybatisPlusGenerator.Menu" text="MyBatis Plus Generator" description="MyBatis Plus 代码生成器">
            <add-to-group group-id="ToolsMenu" anchor="last"/>

            <action id="MybatisPlusGenerator.GenerateCode"
                    class="com.mybatisplus.generator.action.GenerateCodeAction"
                    text="生成代码..."
                    description="打开代码生成器配置对话框"
                    icon="AllIcons.Actions.Execute">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt G"/>
            </action>
        </group>

        <!-- 右键菜单 -->
        <group id="MybatisPlusGenerator.ProjectViewPopup" text="MyBatis Plus Generator">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>

            <action id="MybatisPlusGenerator.GenerateCodeFromProject"
                    class="com.mybatisplus.generator.action.GenerateCodeAction"
                    text="MyBatis Plus 生成代码..."
                    description="在当前位置生成代码"
                    icon="AllIcons.Actions.Execute"/>
        </group>

        <!-- 编辑器右键菜单 -->
        <group id="MybatisPlusGenerator.EditorPopup" text="MyBatis Plus Generator">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>

            <action id="MybatisPlusGenerator.GenerateCodeFromEditor"
                    class="com.mybatisplus.generator.action.GenerateCodeAction"
                    text="MyBatis Plus 生成代码..."
                    description="生成 MyBatis Plus 代码"/>
        </group>
    </actions>
</idea-plugin>
